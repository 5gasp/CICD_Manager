test_info:
  netapp_id: na1 
  network_service_id: ns1
  testbed_id: testbed_itav 
  description: Infrastructure tests for XYZ NetApp

test_phases:
  setup:
    deployments:
      - deployment_id: 1
        name: xyz_d1
        descriptor: xyz_vnf1_vnfd
        id: none 
        parameters: 
          - key: ip_dest 
            value: 1.1.1.1 
      - deployment_id: 2
        name: xyz_vnf2
        descriptor: xyz_vnf2_vnfd
        id: none 
        parameters:
          - key: ip_source 
            value: 2.2.2.2

    testcases:
      - testcase_id: 1
        type: predefined
        scope: infrastructure
        name: bandwidth
        description: Test the bandwidth between the OBU and vOBU
        parameters:
          - key: host1_ip
            value: 10.0.13.60
          - key: host1_username
            value: ubuntu
          - key: host1_password
            value: password
          - key: host2_ip
            value: 10.0.13.101
          - key: host2_username
            value: ubuntu
          - key: host2_password
            value: password
          - key: threshold
            value: 0.5
          - key: comparator
            value: more than
      
      - testcase_id: 2
        type: predefined
        scope: infrastructure
        name: transmission_speed
        description: Test the transmission speed between the OBU and vOBU
        parameters:
          - key: host1_ip
            value: 10.0.13.60
          - key: host1_username
            value: ubuntu
          - key: host1_password
            value: password
          - key: host2_ip
            value: 10.0.13.101
          - key: host2_username
            value: ubuntu
          - key: host2_password
            value: password
          - key: threshold
            value: 100
          - key: comparator
            value: less or equal than

      - testcase_id: 3
        type: predefined
        scope: operational
        name: packet_loss
        description: Test the packet loss between the OBU and vOBU
        parameters:
          - key: host1_ip
            value: 10.0.13.60
          - key: host1_username
            value: ubuntu
          - key: host1_password
            value: password
          - key: host2_ip
            value: 10.0.13.101
          - key: host2_username
            value: ubuntu
          - key: host2_password
            value: password
          - key: threshold
            value: 20
          - key: comparator
            value: less or equal than
  
  execution:
    - batch_id: 1
      scope: infrastructure
      executions:
        - execution_id: 1
          name: bandwidth and transmission_speed test
          testcase_ids: [1,2]
    - batch_id: 2
      scope: operational
      executions:
      - execution_id: 1
        name: packet_loss_ratio_test
        testcase_ids: [3]     

  